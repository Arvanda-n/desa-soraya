<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profil Desa Soraya</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="full.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <script src="profil.js"></script>
</head>
<body style="padding-top: 120px">
 <!-- Navbar -->
 <div class="navbar-no">
    <div class="navbar-logo-home">
      <img src="assets/LOGO FINAL.png" alt="Logo" />
    </div>
    <div class="navbar-menu-home">
      <a href="home.html" >Home</a> |

      <div class="dropdown d-inline">
        <a class="nav-link dropdown-toggle"  href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          Informasi
        </a>
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" href="infografis.html">Infografis</a></li>
          <li><a class="dropdown-item" href="ppid.html">PPID</a></li>
        </ul>
      </div>

      <a href="#" class="active">Profil Desa</a> |
      <a href="berita list.html">Berita</a> |

      <!-- Tambahan Dropdown Avatar -->
      <div class="dropdown d-inline">
        <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          <img src="assets/profile.png" alt="User" width="40" height="40" class="rounded-circle" id="userAvatar">
        </a>
        <ul class="dropdown-menu dropdown-menu-end">
          <li id="loginOption"><a class="dropdown-item" href="login.html">Login</a></li>
          <li id="registerOption"><a class="dropdown-item" href="registrasi.html">Register</a></li>
          <li id="profileOption" class="d-none"><a class="dropdown-item" href="pengaduan.html">Profile</a></li>
          <li id="logoutOption" class="d-none"><a class="dropdown-item" href="#">Logout</a></li>
        </ul>
      </div>

    </div>
  </div>
</div>

  
  <main class="container-PD">
    <div class="box-PD">
      <h2 class="judul-PD">Visi</h2>
      <p class="isi-visi-PD">Desa Soraya yang Maju Mandiri dan Ramah Lingkungan</p>
    </div>

    <div class="box-PD">
      <h2 class="judul-PD">Misi</h2>
      <ol class="isi-misi-li-PD">
        <li>Mewujudkan tata kelola pemerintahan desa yang baik, bersih (good and clean governance) serta layanan publik yang prima berbasis teknologi informasi.</li>
        <li>Meningkatkan keterpenuhan sarana dan prasarana pengembangan wilayah, ekonomi, sosial dan lingkungan hidup di desa serta keterpenuhan hak-hak dasar masyarakat.</li>
        <li>Meningkatkan pemanfaatan potensi ekonomi untuk kemandirian masyarakat.</li>
        <li>Mengembangkan kegiatan strategis desa untuk mendukung kemajuan desa.</li>
        <li>Meningkatkan kehidupan beragama.</li>
      </ol>
    </div>

      <div class="box-sejarah-PD">
        <h2 class="judul-PD">Sejarah Desa Soraya</h2>
        <p class="isi-sej-PD"> Desa Soraya Kecamatan Kamboja Kabupaten Kinasih dahulu sebelum terbentuk adalah sebuah wilayah dari kerajaan kecil yang dipimpin oleh kerajaan Mataram
          Di masa pemerintahan Belanda dibentuk Pemerintahan Sipil Belanda di mana wilayah kerajaan Mataram dimasukkan dalam wilayah ONDER AFDELLING BARRU yang bernaung di bawah AFDELLING PAREPARE, sebagai kepala Pemerintahan Onder Afdelling diangkat seorang Control Belanda yang berkedudukan di Barru, dan bekas kerajaan Tanete tersebut diberi status sebagai Self Bestuur (Pemerintahan Kerajaan Sendiri) yang mempunyai hak otonom untuk menyelenggarakan Pemerintahan sehari-hari baik terhadap eksekutif maupun di bidang yudikatif.
        </p>

        <p class="isi-sej-PD">Dari sejarahnya, sebelum menjadi daerah-daerah Swapraja pada permulaan Kemerdekaan Bangsa Indonesia, Kerajaaan Tanete ini bekas Self Bestuur di dalam Afdeling Parepare yaitu bekas Self Bestuur Tanete dengan pusat Pemerintahannya di Pancana, daerahnya sekarang menjadi 3 Kecamatan masing-masing Kecamatan Tanete Rilau, Kecamatan Tanete Riaja, Kecamatan Pujananting.</p>

        <p class="isi-sej-PD">Seiring dengan perjalanan waktu, maka pada tanggal 24 Februari 1960 merupakan tonggak sejarah yang menandai awal kelahiran Kabupaten Daerah TK. II Barru dengan Ibukota Barru berdasarkan Undang-Undang Nomor 229 tahun 1959 tentang pembentukan Daerah-Daerah Tk. II di Sulawesi Selatan, maka seiring dengan kelahiran kabupaten Kinasih resmi pula kelahiran Desa Soraya yang merupakan bagian dari Kabupaten Kinasih.</p>

        <p class="isi-sej-PD">Desa Soraya berasal dari nama sebuah Gunung yang berada di Dusun Aroppoe Desa Tellumpanua yang merupakan bekas wilayah Desa Soraya yakni Gunung Soraya. Sejak Kelahirannya Desa Soraya  terdiri dari 7 Dusun yakni Dusun Lompengeng, Maralleng, Pucue, Bonto Penno, Polejiwa Aroppoe, Maddo, namun pada tahun 1988 Desa Pao-Pao dimekarkan dan lahirlah Desa Tellumpanua dengan 3 wilayah yakni Dusun Aroppoe, Polejiwa dan Maddo, sehingga sampai sekarang Wilayah Desa Pao-Pao terdiri dari 4 Dusun yakni Dusun Lompengeng, Maralleng, Pucue dan Bonto Penno.</p>
      </div>
    </div>
<br>
<br>
    <div class="box-bagan-PD">
    <h2>Bagan Struktur Organisasi Pemerintahan Desa</h2>
    <p class="subtitle-PD">
      Bagan Struktur Organisasi Pemerintahan Desa adalah representasi visual yang menggambarkan hubungan kerja dan hierarki dalam pemerintahan desa
    </p>
    <div class="image-box-PD">
      <img src="assets/Bagan Desa.png" alt="Struktur Organisasi Desa" />
    </div>
    </div>
  <br>
  <br>
  <div class="warnapeta-PD">
  <p>Peta Lokasi Desa</p>
</div>

    <div class="lokasi-container-PD">
      <div class="info-box-PD">
        <p><strong>Batas Desa:</strong></p>
        <table>
          <tr>
            <td><strong>Utara</strong></td>
            <td>Kelurahan Lalolang dan Desa Tellumpanua</td>
          </tr>
          <tr>
            <td><strong>Timur</strong></td>
            <td>Kecamatan Tanete Riaja</td>
          </tr>
          <tr>
            <td><strong>Selatan</strong></td>
            <td>Desa Corawali</td>
          </tr>
          <tr>
            <td><strong>Barat</strong></td>
            <td>Selat Makassar</td>
          </tr>
        </table>
        <br>
        <table>
          <tr>
            <td><strong>Luas Desa:</strong></td>
            <td>9.300.000 mÂ²</td>
          </tr>
          <tr>
            <td><strong>Jumlah Penduduk:</strong></td>
            <td>4.493 Jiwa</td>
          </tr>
        </table>
      </div>

      <div class="map-box-PD">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d13691.187788022602!2d110.75956623697219!3d-7.795707116061577!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e7a3772cf3f66b7%3A0x5027a76e356b1a0!2sKaranganyar%2C%20Kec.%20Weru%2C%20Kabupaten%20Sukoharjo%2C%20Jawa%20Tengah!5e1!3m2!1sid!2sid!4v1746779131112!5m2!1sid!2sid"
          width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
        </iframe>
      </div>
    </div>
  </main>

  <button id="openBtn" class="img-button">
    <img src="assets/pengaduan.png" alt="Buat Pengaduan">
  </button>
  

  <div id="popupForm" class="modal">
    <div class="modal-content">
      <span class="close" id="closeBtn">&times;</span>
      <h2>Form Pengaduan Desa</h2>
      <form action="#" method="post">
        <label for="nama">Nama Lengkap*</label>
        <input type="text" id="nama" name="nama" required>

        <label for="kontak">NIK</label>
        <input type="text" id="NIK" name="NIK" required>

        <label for="kategori">Kategori Pengaduan*</label>
        <select id="kategori" name="kategori" required>
          <option value="">-- Pilih Kategori --</option>
          <option value="layanan">Layanan Publik</option>
          <option value="infrastruktur">Infrastruktur</option>
          <option value="keamanan">Keamanan</option>
        </select>

        <label for="pesan">Isi Pengaduan*</label>
        <textarea id="pesan" name="pesan" rows="4" required></textarea>

        <label for="lampiran">Lampiran</label>
        <input type="file" id="lampiran" name="lampiran" required>

        <button type="submit">Kirim Pengaduan</button>
      </form>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>

</body>

  <footer>
    <div class="footer-container">
      
      <div class="footer-logo">
        <img src="assets/LOGO FINAL.png" alt="Logo Desa">
      </div>
  
      <div class="footer-judul">  
        <h3>Desa Soraya</h3>
         <p>Jalan Sultan Hasanuddin KM. 1<br>
          Desa Soraya, Kecamatan Pakis,<br>
          Kabupaten Kinasih<br>
          Provinsi Jawa Utara, 56111</p>    
      </div>
      
    <div class="footer-contact-section">
          <h3>Hubungi Kami</h3>
          <div class="contact-item">
              <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384"/></svg>
              <span>0427 3230288</span>
          </div>
  
          <div class="contact-item">
              <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24"
                  stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"/>
                  <rect x="2" y="4" width="20" height="16" rx="2"/>
              </svg>
              <span>desa.Soraya.baru@gmail.com</span>
          </div>
  
          <div class="contact-item">
              <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/>
              </svg>
              <span>Facebook</span>
          </div>
  
          <div class="contact-item">
              <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"/>
              <path d="m10 15 5-3-5-3z"/>
              </svg>
              <span>YouTube</span>
          </div>
      </div>
  
      <div class="footer-nomor">
        <h3>Nomor Telepon Penting</h3>
        <ul>
          <li>Damkar Soraya</li>
          <li>Ambulance Soraya</li>
          <li>Babinsa Desa Soraya</li>
          <li>PSTU Soraya</li>
        </ul>
      </div>
  
      <div class="footer-links">
        <h3>Jelajahi</h3>
        <ul>
          <li><a href="#">JADESTA</a></li>
          <li><a href="#">Website Kemendesa</a></li>
          <li><a href="#">Website Kemendagri</a></li>
          <li><a href="#">Cek DPT Online</a></li>
        </ul>
      </div>
  
    </div>
  </footer> 
<script>
     const isLoggedIn = localStorage.getItem('loggedIn') === 'true';
    const userAvatar = document.getElementById('userAvatar');
    const loginOption = document.getElementById('loginOption');
    const registerOption = document.getElementById('registerOption');
    const profileOption = document.getElementById('profileOption');
    const logoutOption = document.getElementById('logoutOption');

    if (isLoggedIn) {
      const userNIK = localStorage.getItem('userNIK');
      const userName = localStorage.getItem('userName') || 'User';
      userAvatar.src = 'assets/profile.png';
      userAvatar.title = `${userName} (${userNIK})`;
      loginOption.classList.add('d-none');
      registerOption.classList.add('d-none');
      profileOption.classList.remove('d-none');
      logoutOption.classList.remove('d-none');
    } else {
      userAvatar.src = 'assets/profile.png';
    }

    // Tombol logout
    logoutOption.querySelector('a').onclick = () => {
      // Jangan hapus data login terakhir agar tetap bisa autofill
      localStorage.removeItem('loggedIn');
      localStorage.removeItem('userNIK');
      localStorage.removeItem('userName');
      location.reload();
    };

    const modal = document.getElementById("popupForm");
  const openBtn = document.getElementById("openBtn");
  const closeBtn = document.getElementById("closeBtn");

  openBtn.onclick = () => modal.style.display = "flex";
  closeBtn.onclick = () => modal.style.display = "none";
  window.onclick = (e) => { if (e.target === modal) modal.style.display = "none"; };

  // PRE-FILL NIK jika user login
  document.addEventListener('DOMContentLoaded', () => {
  const loggedIn = localStorage.getItem('loggedIn') === 'true';
  const userNIK = localStorage.getItem('userNIK');
  const userName = localStorage.getItem('userName');

  if (loggedIn) {
    if (userNIK) {
      const nikField = document.getElementById('NIK');
      nikField.value = userNIK;
      nikField.readOnly = true;
    }

    if (userName) {
      const namaField = document.getElementById('nama');
      namaField.value = userName;
      namaField.readOnly = true;
    }
  }
});


  // HANDLE SUBMIT PENGADUAN
  const form = document.querySelector('#popupForm form');
  form.addEventListener('submit', function(e) {
    e.preventDefault();

    const loggedIn = localStorage.getItem('loggedIn') === 'true';
    if (!loggedIn) {
      alert("Silakan login terlebih dahulu sebelum mengirim pengaduan.");
      window.location.href = 'login.html';  // Arahkan ke halaman utama
      return;
    }

    const nik = document.getElementById('NIK').value.trim();
    const kategori = document.getElementById('kategori').value;
    const pesan = document.getElementById('pesan').value.trim();

    const users = JSON.parse(localStorage.getItem('users') || '[]');
    const user = users.find(u => u.nik === nik);
    if (!user) {
      alert("NIK Anda tidak terdaftar.");
      return;
    }

    const pengaduan = {
      nama: user.nama,
      nik: nik,
      kategori: kategori,
      pesan: pesan,
      tanggal: new Date().toLocaleString()
    };

    const semuaPengaduan = JSON.parse(localStorage.getItem('pengaduan') || '[]');
    semuaPengaduan.push(pengaduan);
    localStorage.setItem('pengaduan', JSON.stringify(semuaPengaduan));

    window.location.href = 'pengaduan.html';
  });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>

</html>